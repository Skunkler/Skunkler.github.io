 <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Stop Link 101 app</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <style>

      .selectedCard{
        box-shadow: rgba(1, 249, 150, 0.25) 0px 30px 60px -12px inset, rgba(0, 0, 0, 0.3) 0px 18px 36px -18px inset;

      }
      .modal-dialog
      {
        max-width: 600px !important;
      }
      .cardContainer
      {
        overflow-y: scroll;
        max-height: 70vh;
        background-color: rgba(245, 245, 245, 0.5);
        padding: 7%;
        width: 100%;

      }
      /*.rowCardClass
      {
        margin-top: 5%;
      }*/
      body
      {
        overflow-x: none !important;
        overflow-y: none !important;
      }

      .col
      {
        margin-bottom: 4%;
      }

*{
	margin: 0;
	padding: 0;
}

button{
  padding: 8px;
  width: 100px;
  border: 2px solid white;
  background-color: transparent;
  color: white;
  cursor: pointer;
  border-radius: 5px;
  transition: 0.1s;
}

button:hover{
  transform: scale(1.05);
}

.container{
	width: 100%;
}

.pages {
  display: flex;
	width: 430%;
	box-sizing: border-box;	
}

.page {
  width: 23%;
  height: 100%;
  align-items: center;
  justify-content: center;
  flex-direction: column;
	gap: 10px;
  transition: all 0.7s;
}

.one
{
  margin-right: 20%;
}
.two
{
  margin-left: -8%;
}


.accordionButtons
{
  width: 100%;
  color: blue;
  background-color: transparent;
  border-color: blue;
}
.card
{
  max-height: 9rem !important;
  height: 100% !important;
}

.countyFilter
{
  width: 14%;
}
.checkBoxFormat
{
  margin-right: 5%;
}
span:before {
  content: "";
  display: inline-block;
  width: 15px;
  height: 15px;
  box-shadow: rgba(1, 249, 150, 0.25) 0px 30px 60px -12px inset, rgba(0, 0, 0, 0.3) 0px 18px 36px -18px inset;
}

    </style>
  </head>
  <body onload="LoadData()">
    <main>

      <div style="margin-top: 2%;" class="container">

        <div class="pages">
          <div class="page one">
            
            <br/>
            <br/>
          <div style="text-align: center; justify-content: center;">
            <h1>Select An Affected County to view Current Representatives</h1>
          </div>
          <div id="CommissionersTable">
            
          </div>
          <br/>
          <div >
            <button id="UpcomingCandidates" style="width: 100%; float: right;" onclick="slide('next')" class="btn btn-primary">Candidates ></button>
          
          </div>

        </div>
      
      <div class="page two">
        <div style="justify-content: start;">
           
        </div>
      <div style="text-align: center; justify-content: center;">
        <h2 style="margin-bottom: -3%">Political Candidates</h2>
        <br/>
        <span style="float: left;">
          <i>Candidates on our side</i></span>
        <button id="filter" style="float: right; margin-bottom: 2%; width: 18%;" 
        type="button" data-bs-toggle="modal" data-bs-target="#filterModal" class="btn btn-secondary countyFilter">filter</button>
      
        
    </div>
    
    <div class="cardContainer" id="CandidateCardsContainer">
      
    </div>
    <br/>
    <button id="UpcomingPoliticalCandidatesBtn" style="width: 100%;" onclick="slide('prev')" class="btn btn-secondary">
      < View Current Politicians
    </button> 

</div>
      
    </div>
      </div>


    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
            <button type="button" onclick="CloseModal()" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div id="modalContent" class="modal-body" style="overflow-x: auto;">
            
            
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" onclick="CloseModal()" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="filterModal" tabindex="-1" aria-labelledby="filterModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="filterModalLabel">Filter Options</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div id="filterContent" class="modal-body" style="overflow-x: auto; border-bottom: 1px solid;">
            <div style="text-align: center; justify-content: center;">
              <h5>Filter by County</h5>
            
          <div style="display: flex; justify-content: start;">
            <div class="form-check checkBoxFormat">
              <input class="form-check-input" type="checkbox" value="Dearborn" id="flexCheckDefault">
              <label class="form-check-label" for="flexCheckDefault">
                Dearborn
              </label>
            </div>
            </div>

          <div style="display: flex; justify-content: start;">
            <div class="form-check checkBoxFormat">
              <input class="form-check-input" type="checkbox" value="Ohio" id="flexCheckChecked">
              <label class="form-check-label" for="flexCheckChecked">
                Ohio
              </label>
            </div>
          </div>

          <div style="display: flex; justify-content: start;">
            <div class="form-check checkBoxFormat">
              <input class="form-check-input" type="checkbox" value="Ripley" id="flexCheckDefault">
              <label class="form-check-label" for="flexCheckDefault">
                Ripley
              </label>
            </div>
          </div>

          <div style="display: flex; justify-content: start;">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" value="Switzerland" id="flexCheckChecked">
              <label class="form-check-label" for="flexCheckChecked">
                Switzerland
              </label>
            </div>
          </div>
          </div>

          <div style="text-align: center; justify-content: center;">
            <h5>Filter by Position</h5>
            
            <div style="display: flex;">
              <div class="form-check checkBoxFormat">
                <input class="form-check-input" type="checkbox" value="United States Senator from Indiana" id="flexCheckDefault" >
                <label class="form-check-label" for="flexCheckDefault">
                  U.S. Senate
                </label>
              </div>
            </div>


            <div style="display: flex;">
              <div class="form-check checkBoxFormat">
                <input class="form-check-input" type="checkbox" value="United States Representative" id="flexCheckChecked" >
                <label class="form-check-label" for="flexCheckChecked">
                  U.S. House
                </label>
              </div>
              </div>

              <div style="display: flex;">
              <div class="form-check checkBoxFormat">
                <input class="form-check-input" type="checkbox" value="Governor" id="flexCheckDefault" >
                <label class="form-check-label" for="flexCheckDefault">
                  Governor
                </label>
              </div>
              </div>
              <div style="display: flex;">
              <div class="form-check checkBoxFormat">
                <input class="form-check-input" type="checkbox" value="State Senator" id="flexCheckChecked">
                <label class="form-check-label" for="flexCheckChecked">
                  State Senate
                </label>
              </div>
            </div>

            
            <div style="display: flex;">
              <div class="form-check checkBoxFormat">
                <input class="form-check-input" type="checkbox" value="State Representative" id="flexCheckDefault" >
                <label class="form-check-label" for="flexCheckDefault">
                  State Representative
                </label>
              </div>
              </div>
              <div style="display: flex;">
              <div class="form-check checkBoxFormat">
                <input class="form-check-input" type="checkbox" value="County Commissioner" id="flexCheckChecked">
                <label class="form-check-label" for="flexCheckChecked">
                  County Commissioner
                </label>
              </div>
              </div>

              <div style="display: flex;">
              <div class="form-check checkBoxFormat">
                <input class="form-check-input" type="checkbox" value="County Council" id="flexCheckDefault" >
                <label class="form-check-label" for="flexCheckDefault">
                  County Council
                </label>
              </div>
              </div>
              <div style="display: flex;">
              <div class="form-check checkBoxFormat">
                <input class="form-check-input" type="checkbox" value="Precinct Committeeman" id="flexCheckChecked">
                <label class="form-check-label" for="flexCheckChecked">
                  Precinct Committeemen
                </label>
              </div>
              </div>
              
              <div style="display: flex;">
              <div class="form-check checkBoxFormat">
                <input class="form-check-input" type="checkbox" value="Delegate" id="flexCheckDefault">
                <label class="form-check-label" for="flexCheckDefault">
                  Delegate
                </label>
              </div>
            </div>

          </div>

        </div>
        
          <div class="modal-footer">
            <button type="button" onclick="filterSelection()" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>



   


    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

    <script>
      const filterLocations = {};
      const filterPositions = {};

      const getCheckedValues = (parentNode, obj) => {

        for(let i = 1; i < parentNode.children.length; i++) {
          let div = parentNode.children[i].children[0];
          obj[div.children[0].value] = div.children[0].checked;
        };

      };


      const delay = ms => new Promise(res => setTimeout(res, ms));

      const filterSelection = async () => {
        let targetNode = document.getElementById("filterContent");
        let CountySelect = targetNode.children[0];
        
        getCheckedValues(targetNode.children[0], filterLocations);
        getCheckedValues(targetNode.children[1], filterPositions);
        
        let checkedPositions = Object.entries(filterPositions).filter(([k,v]) => v === true);
        let checkedLocations = Object.entries(filterLocations).filter(([k,v]) => v === true);

        let filPositionsVals = checkedPositions.map(val => val[0]);

        let filteredCandidatesByPosition = [];
        if (filPositionsVals.length > 0)
        {
        filPositionsVals.forEach(val=>
        {
          candidates.filter(candidate => candidate.position.includes(val)).forEach(can=>{
            filteredCandidatesByPosition.push(can);
          })
        })
      }
      else
      {
        filteredCandidatesByPosition = JSON.parse(JSON.stringify(candidates));
      }
        
        
        let filteredCandidatesByLocation = [];

        let filtLocationsVals = checkedLocations.map(val => val[0]);

        let intermediateFiltArr = filteredCandidatesByPosition.length > 0 ? filteredCandidatesByPosition : candidates;
        if (filtLocationsVals.length > 0){
        filtLocationsVals.forEach(location => {
          intermediateFiltArr.forEach(candidate => {
          if(candidate.position.includes("State Senator"))//|| candidate.position.includes("State Representative")))
          {
            if ((location == 'Dearborn' || location == 'Ohio' || location == 'Switzerland') && candidate.position.includes("istrict 43"))
            {
              filteredCandidatesByLocation.push(candidate);
            }
            else if((location == 'Ripley') && candidate.position.includes('istrict 42'))
            {
              filteredCandidatesByLocation.push(candidate);
            }
          }
          
          else if (candidate.position.includes("State Representative"))
          {
            if ((location == 'Dearborn' || location == 'Ohio' || location == 'Switzerland') && candidate.position.includes("istrict 68"))
            {
              filteredCandidatesByLocation.push(candidate);
            }
            else if(location == 'Ripley' && candidate.position.includes("istrict 67"))
            {
              filteredCandidatesByLocation.push(candidate);
            } 
          }
          else if (candidate.position.includes("Governor") || candidate.position.includes("United States Representative")
          || candidate.position.includes("United States Senator from Indiana"))
          {
            filteredCandidatesByLocation.push(candidate);
          }
          else if(candidate.position.includes(location))
          {
            filteredCandidatesByLocation.push(candidate);
          }
          
          
          });
        })
      }
      else
      {
        filteredCandidatesByLocation = filteredCandidatesByPosition;
      }

        console.log(filteredCandidatesByLocation);


        let targetContainer = document.getElementById("CandidateCardsContainer");
        
        while(targetContainer.firstChild)
        {
          targetContainer.removeChild(targetContainer.lastChild);
        }



        let rowArray = [];
        filteredCandidatesByLocation.forEach((candidate, i) => {
          if (i === 0 || i % 2 === 0)
          {
            let rowCardDiv = document.createElement("div");
            rowCardDiv.className = "row rowCardClass";
            rowCardDiv.id = `rowCardId${i}`;

            let colDiv = candidateCardCreator(candidate);

            rowCardDiv.appendChild(colDiv);
            rowArray.push(rowCardDiv);
            
          }
          else
          {
            let colDiv = candidateCardCreator(candidate);
            rowArray[rowArray.length - 1].appendChild(colDiv);
          }
        });

        rowArray.forEach(container => targetContainer.appendChild(container));
        
      };



      const pages = document.querySelectorAll(".page");
    const translateAmount = 150; 
    let translate = 0;

    slide = (direction) => {

      direction === "next" ? translate -= translateAmount : translate += translateAmount;

      pages.forEach(
        pages => (pages.style.transform = `translateX(${translate}%)`)
      );
    }



      const DearBornCountyCouncil = [
        {
          "Name": "Dennis Kraus",
          "District": "District 4",
          "Phone": `<a href="tel:8126232320">812-623-2320</a>`,
          "Email": `<a href="tel:8126232320">812-623-2320</a>`
        },
        {
          "Name": "Kevin Turner",
          "District": "District 3",
          "Phone": `<a href="tel:8124328148">812-432-8148</a>`,
          "Email": `<a href="mailto:kturner@dearborncounty.in.gov">kturner@dearborncounty.in.gov</a>`
        },
        {
          "Name": "Dan Lansing",
          "District": "District 2",
          "Phone": `<a href="tel:8125377041">812-537-7041</a>`,
          "Email": `<a href="mailto:dlansing1967@yahoo.com">dlansing1967@yahoo.com</a>`
        },
        {
          "Name": "Liz Morris",
          "District": "District 1",
          "Phone": `<a href="tel:8126370522">812-637-0522</a>`,
          "Email": `<a href="mailto:liz.morris210@gmail.com">liz.morris210@gmail.com</a>`
        },
        {
          
          "Name": "Allen Goodman",
          "District": "Vice President"
        },
        {
          "Name": "Glenn Wright"
        }
      ];
      const OhioCountyCouncil = [
        {
          "Name": "Charles R. Cleary Jr"
        },
        {
          "Name": "Deborah Thomason"
        },
        {
          "Name": "Tamara Elbright"
        },
        {
          "Name": "Chris Flood"
        },
        {
          "Name": "Myron Dennis"
        },
        {
          "Name": "Don Grace"
        },
        {
          "Name": "Yvonne Walton"
        },
      ];
      const RipleyCountyCouncil = [
        {
          "Name": "Ronald J. Decker",
          "District": "District 1",
          "Phone": "812-528-2372",
          "Email": "councildecker@ripleycounty.com"
        },
        {
          "Name": "Stan Wiedeman",
          "District": "District 2",
          "Phone": "812-934-6481",
          "Email": "hoosierstan@yahoo.com"
        },
        {
          "Name": "Diane Macek",
          "District": "District 3",
          "Phone": "812-689-4423",
          "Email": "dmacek@ripleycounty.com"
        },
        {
          "Name": "David Tebbing",
          "District": "District 4",
          "Phone": "812-756-0586",
          "Email": "councildecker@ripleycounty.com"
        },
        {
          "Name": "Katie Bailey",
          "District": "At Large",
          "Phone": "812-756-0788",
          "Email": "kbailey@ripleycounty.com"
        },
        {
          "Name": "Andrew Decker",
          "District": "At Large",
          "Phone": "812-212-2458",
          "Email": "adecker@ripleycounty.com"
        },
        {
          "Name": "Peggy A. Ehlers",
          "District": "At Large",
          "Phone": "812-756-2772",
          "Email": "pehlers@ripleycounty.com"
        }
      ];
      const SwitzerlandCountyCouncil = [
        {
          "Name": "Andy Haskell",
          "Phone": "317-409-3209",
          "Email": "haskellgrass@hotmail.com"
        },
        {
          "Name": "Eric Swank",
          "Phone": "703-554-5197",
          "Email": "ceswank44@gmail.com"
        },
        {
          "Name": "Lisa Fisher",
          "Phone": "812-427-2852",
          "Email": "jlefisher@hotmail.com"
        },
        {
          "Name": "Todd Chase",
          "Phone": "812-292-5057",
          "Email": "tnachasel@aol.com"
        },
        {
          "Name": "Mike Bear",
          "Phone": "502-525-8107",
          "Email": "mike.s.bear1970@gmail.com"
        },
        {
          "Name": "Lance Collier",
          "Phone": "812-427-2751",
          "Email": "lcollier@switzerland.in.gov"
        },
        {
          "Name": "Mathew Dutkiew",
          "Phone": "513-236-5862",
          "Email": "mdutkiew@me.com"
        }
      ];

        const councilMemberObject = {
        "Dearborn": DearBornCountyCouncil,
        "Ohio": OhioCountyCouncil, "Ripley": RipleyCountyCouncil, 
        "Switzerland": SwitzerlandCountyCouncil
      };

      function CloseModal()
      {
        let content = document.getElementById("modalContent");
        while(content.firstChild)
        {
          content.removeChild(content.firstChild);
        }
      }

      function CouncilMemberModalFunction(event)
      {
        let title = event.target.id.replace("Council","");
        let modalTitle = document.getElementById("exampleModalLabel");
        modalTitle.innerHTML = `${title} County Council Members`;
        let content = document.getElementById("modalContent");

        let table = document.createElement("table");
        table.className = "table table-hover";
        
        let councilData = councilMemberObject[title];

        let thead = document.createElement("thead");
        let tHeadTR = document.createElement("tr");
        tHeadTR.innerHTML = `<th>Name</th>
                             <th>District</th>
                             <th>Phone</th>
                             <th>Email</th>`;

        table.appendChild(tHeadTR);

        let tbody = document.createElement("tbody");
      
        councilData.forEach(obj => {
          let tr = document.createElement("tr");
          let innerHTML = `<td>${obj['Name']}</td>`;

          innerHTML += obj.hasOwnProperty("District") ? `<td>${obj["District"]}</td>` : `<td></td>`;
          innerHTML += obj.hasOwnProperty("Phone") ? `<td><a href='tel:${obj["Phone"].split('-').join("")}'>${obj["Phone"]}</a></td>` : `<td></td>`;
          innerHTML += obj.hasOwnProperty("Email") ? `<td>${obj["Email"]}</td>` : `<td></td>`;
          
          tr.innerHTML = innerHTML;
          tbody.appendChild(tr);

        });
        table.appendChild(tbody);
        content.appendChild(table);
      }


    const candidateCardCreator = (candidate) =>
    {
      let colDiv = document.createElement("div");
      colDiv.className = "col";
      console.log(candidate);
      let cardDiv = document.createElement("div");
      if (candidate["ForStopLink101"] === true)
      {
        cardDiv.className = "card selectedCard";
      }
      else
      {
        cardDiv.className = "card";  
      }
      cardDiv.style = "width: 18rem;";

      let cardBody = document.createElement("div");
      cardBody.className = "card-body";

      let title = document.createElement("h5");
      title.className = "card-title";
      title.innerHTML = `${candidate["name"]} - ${candidate["party"]}` ;

      let bodyText = document.createElement("p");
      bodyText.className = "card-text";

      bodyText.innerHTML = `${candidate["position"]}`;

      cardBody.appendChild(title);
      cardBody.appendChild(bodyText);
      cardDiv.appendChild(cardBody);
      colDiv.appendChild(cardDiv);

      return colDiv;
    }

    let candidates;
    const loadUpcomingCandidatesPage = async () =>
    {
        //let response = await fetch("https://raw.githubusercontent.com/Skunkler/Link101Stuff/main/Candidates.json");
        let response = await fetch("https://raw.githubusercontent.com/Skunkler/Link101Stuff/main/Candidates3.json");
        candidates = await response.json();
        let targetContainer = document.getElementById("CandidateCardsContainer");
        
        let rowArray = [];
        candidates.forEach((candidate, i) => {
          if (i === 0 || i % 2 === 0)
          {
            let rowCardDiv = document.createElement("div");
            rowCardDiv.className = "row rowCardClass";
            rowCardDiv.id = `rowCardId${i}`;

            let colDiv = candidateCardCreator(candidate);

            rowCardDiv.appendChild(colDiv);
            rowArray.push(rowCardDiv);
            
          }
          else
          {
            let colDiv = candidateCardCreator(candidate);
            rowArray[rowArray.length - 1].appendChild(colDiv);
          }
        });

        rowArray.forEach(container => targetContainer.appendChild(container));

    }

      async function LoadData()
      {
        console.log("hi");
        const CountyList = ["Dearborn", "Ohio", "Ripley", "Switzerland"];

        const DearbornList = [
          {"Name": "Jim Thatcher",
           "Phone": "513-708-0619",
           "Email": "jthatcher@dearborncounty.in.gov"},
           {
            "Name": "Art Little",
            "Phone": "812-537-1040"
           },
           {
            "Name": "Rick Probst",
            "Phone": "812-577-7584",
            "Email": "rprobst@dearborncounty.in.gov"
           }
        ];

        const OhioList = [
           {"Name": "Connie Brown"},
           {"Name": "Shane Koons"},
           {"Name": "Billy Hoffman"}
        ];

        const RipleyList = [
           {"Name": "Mark Horstman",
            "Phone": "812-484-6511",
            "Email": "commissionerhorstman@ripleycounty.com"},
           {"Name": "Chris Schmaltz",
            "Phone": "812-621-8302"},
           {
            "Name": "Kendall Hankins",
            "Phone": "812-756-2339",
            "Email": "khankins@ripleycounty.com"
           }
        ];

        const SwitzerlandList = [
           {"Name": "Jerry Monjar",
            "Phone": "812-584-6958",
            "Email": "jmonjar@yahoo.com"},
           {"Name": "Randy Leap",
            "Phone": "502-727-1817",
            "Email": "rleap1960@gmail.com"},
           {"Name": "Jamie Peters",
            "Phone": "812-599-2381",
            "Email": "jim.peters@jlxtrememachine.com"}
        ];

        
        const CommissionerData = {"Dearborn": DearbornList,
         "Ohio": OhioList, "Ripley": RipleyList, "Switzerland": SwitzerlandList};

         let commissionerTable = document.getElementById("CommissionersTable");
        
         let accordion = document.createElement("div");
         accordion.className = "accordion";
         accordion.id = "accordionExample";
         
         CountyList.forEach((county, i)=> {
          let accordionItem = document.createElement("div");
          accordionItem.className = "accordion-item";

          let accordionHeader = document.createElement("h2");
          accordionHeader.className = "accordion-header";
          accordionHeader.id = `heading${i}`;

          let button = document.createElement("button");
          button.className = "accordion-button collapsed";
          button.setAttribute("type", "button");
          button.setAttribute("data-bs-toggle", "collapse")
          button.setAttribute("data-bs-target", `#collapse${i}`);
          button.setAttribute("aria-expanded","false")
          button.setAttribute("aria-controls", "collapseFour");

          button.innerHTML = county;

          accordionHeader.appendChild(button);
          accordionItem.appendChild(accordionHeader);

          let divContainer = document.createElement("div");
          divContainer.id = `collapse${i}`;
          divContainer.className = "accordion-collapse collapse";
          divContainer.setAttribute("aria-labelledby", `heading${i}`);
          divContainer.setAttribute("data-bs-parent", "#accordionExample");


          let divBody = document.createElement("div");

          divBody.className = "accordion-body";

          for(let x = 0; x < 3; x++)
          {
          let table = document.createElement("table");
          table.className = "table";

          let thead = document.createElement("thead");
          let th = document.createElement("th");
          th.setAttribute("scope", "col");
          th.innerHTML = `Commissioner District ${x+1}`;

          thead.appendChild(th);

          table.appendChild(thead);

          let tbody = document.createElement("tbody");
          let td = document.createElement("td");
          let tr = document.createElement("tr");

          let inHTML = `<div>${CommissionerData[county][x].Name}</div>`;
         
          if(CommissionerData[county][x].hasOwnProperty("Phone"))
          {
            let formatPhone = CommissionerData[county][x].Phone.split('-').join('');
            inHTML += `<div><a href='tel:${formatPhone}'>${CommissionerData[county][x].Phone}</a></div>`;
            
            if(CommissionerData[county][x].hasOwnProperty("Email"))
            {
             inHTML += `<div><a href='mailto:${CommissionerData[county][x].Email}'>${CommissionerData[county][x].Email}</a></div>`;
            }
          }
          
          td.innerHTML =  inHTML;

          tr.appendChild(td);

          tbody.appendChild(tr);
          table.appendChild(tbody);
          divBody.appendChild(table);


          }


          let councilMemeberModalButton = document.createElement("button");
          councilMemeberModalButton.className="btn btn-primary accordionButtons";
          councilMemeberModalButton.type = "button";
          councilMemeberModalButton.setAttribute("data-bs-toggle", "modal");
          councilMemeberModalButton.setAttribute("data-bs-target", "#exampleModal");

          councilMemeberModalButton.innerHTML = "County Council Members";
          councilMemeberModalButton.onclick = CouncilMemberModalFunction;
          councilMemeberModalButton.id = `${county}Council`;
          divBody.appendChild(councilMemeberModalButton);






          divContainer.appendChild(divBody);
          accordionItem.appendChild(divContainer);

          accordion.appendChild(accordionItem);

         });
         commissionerTable.appendChild(accordion);

         await loadUpcomingCandidatesPage();

      }
    </script>
  </body>
</html>